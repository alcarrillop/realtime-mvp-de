FROM python:3.11-slim

WORKDIR /app

# Copy source code first
COPY src/ ./src/
COPY pyproject.toml ./

# Install dependencies using pip directly
RUN pip install kafka-python pandas faker numpy requests

# Set environment variables
ENV PYTHONPATH=/app/src

# Run the producer
CMD ["python", "-m", "realtime_mvp.producer.producer"]
